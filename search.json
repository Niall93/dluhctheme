[{"path":"https://communitiesuk.github.io/dluhctheme/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"RAP Working Group. Maintainer.","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Analysis, Direcotrate D (2023). dluhctheme: Creates Consistent ggplot Theme DLUHC Graphs. R package version 0.1.0, https://communitiesuk.github.io/dluhctheme/.","code":"@Manual{,   title = {dluhctheme: Creates a Consistent ggplot Theme for DLUHC Graphs},   author = {{Analysis} and Data Direcotrate},   year = {2023},   note = {R package version 0.1.0},   url = {https://communitiesuk.github.io/dluhctheme/}, }"},{"path":"https://communitiesuk.github.io/dluhctheme/index.html","id":"dluhc-cookbook-for-r-graphics","dir":"","previous_headings":"","what":"Creates a Consistent ggplot Theme for DLUHC Graphs ","title":"Creates a Consistent ggplot Theme for DLUHC Graphs ","text":"Last updated: 2023-02-07 Install dluhctheme package dluctheme package work?","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/index.html","id":"credit-to-bbc-data-team","dir":"","previous_headings":"","what":"Credit to BBC data team","title":"Creates a Consistent ggplot Theme for DLUHC Graphs ","text":"package copied much better BBC bbplot, reapplied work creating graphics DLUHC style. Credit must go BBC data team fantastic product team DLUHC essentially copied use.","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/index.html","id":"install-the-dluhctheme-package","dir":"","previous_headings":"Credit to BBC data team","what":"Install the dluhctheme package","title":"Creates a Consistent ggplot Theme for DLUHC Graphs ","text":"dluhctheme CRAN, install directly Github using devtools. devtools package installed, run first line code well. info dluhctheme check package’s Github repo, details use package functions detailed . downloaded package successfully installed good go create charts.","code":"# install.packages('devtools') devtools::install_github('communitiesuk/dluhctheme')"},{"path":"https://communitiesuk.github.io/dluhctheme/index.html","id":"how-does-the-dluctheme-package-work","dir":"","previous_headings":"Credit to BBC data team","what":"How does the dluctheme package work?","title":"Creates a Consistent ggplot Theme for DLUHC Graphs ","text":"package two types functions; Generic functions: dluhc_style() finalise_plot() functions designed generic themes can added ggplot2 object. edit axes grid lines define text style, set colour lines fill graphs. Specific functions: functions used quick tool instantly creating particular type formatted graph based set shape data inputted. less adaptable, allow user create graph one line code: one_line_timeseries(), multi_line_timeseries(), facet_highlight_timeseries(), LA_map(), facet_barchart(), forecast_timeseries() functions allow create data visualization set theme instantly fixed formatting. Examples functions can found later document","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/LA_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a standard theme map from an sf object — LA_map","title":"Create a standard theme map from an sf object — LA_map","text":"Create standard theme map sf object","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/LA_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a standard theme map from an sf object — LA_map","text":"","code":"LA_map(   .data,   variable,   LA_col,   map_colours = c(\"#FFFFFF\", \"#012169\"),   year = \"2021-22\",   countries = \"E\",   save = FALSE,   filepath = NULL )"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/LA_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a standard theme map from an sf object — LA_map","text":".data sf object data broken local authority. function works data local authority breakdown . variable column .data numeric value mapped LA_col column contains Local Authority code map_colours colour want represent low high values, must vector form year financial year LA codes using relate , given quotations countries countries wish appear map. E, E+W, GB UK England, England+Wales, Great Britain United Kingdom respectively save TRUE/FALSE statement want file exported png file. TRUE, filepath must defined filepath save TRUE, filepath save location png output must form quotations","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/LA_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a standard theme map from an sf object — LA_map","text":"ggplot map, png file save TRUE","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/LA_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a standard theme map from an sf object — LA_map","text":"","code":"df <- dluhctheme::Help_to_Buy LA_map(df,variable = Completions,LA_col = LA_Code,year = \"2020-21\",countries = \"E\",save = FALSE) #> [1] \"Your original data had 334 rows of data\" #> [1] \"On the map, there were 314 matches, from 314 LAs on the map\""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/dluhc_style.html","id":null,"dir":"Reference","previous_headings":"","what":"ggplot function to create standard background and axis labels for a DLUHC style graph — dluhc_style","title":"ggplot function to create standard background and axis labels for a DLUHC style graph — dluhc_style","text":"ggplot function create standard background axis labels DLUHC style graph","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/dluhc_style.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ggplot function to create standard background and axis labels for a DLUHC style graph — dluhc_style","text":"","code":"dluhc_style(size = 2)"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/dluhc_style.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ggplot function to create standard background and axis labels for a DLUHC style graph — dluhc_style","text":"size variable used edit text size. font size, works multiplier font size, default 2","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/dluhc_style.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ggplot function to create standard background and axis labels for a DLUHC style graph — dluhc_style","text":"ggplot object","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/dluhc_style.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ggplot function to create standard background and axis labels for a DLUHC style graph — dluhc_style","text":"","code":"df <- dluhctheme::Net_Additions_Regional df$year <- as.numeric(substr(df$Year,7,10)) df <- dplyr::filter(df,Region %in% c(\"North East\",\"North West\",\"South East\")) a <- ggplot2::ggplot(df, ggplot2::aes(x = year, y=Net_Additions)) + ggplot2::geom_line(ggplot2::aes(colour = Region),linewidth = 2) a  a + dluhc_style()"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_barchart.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — facet_barchart","title":"Title — facet_barchart","text":"Title","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_barchart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — facet_barchart","text":"","code":"facet_barchart(.data, xcol, ycol, groupcol, textsize = 1)"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_barchart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — facet_barchart","text":".data dataframe containing data, ideally 3 column dataframe one value column two categorical columns xcol column contains variable go x axis column chart ycol column contains value go y axis groupcol column contains categorical variable graphs faceted textsize text size, initially set 1, size ratio normal dluhc_style size 2","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_barchart.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — facet_barchart","text":"ggplot object","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_barchart.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Title — facet_barchart","text":"","code":"df <- dluhctheme::Net_Additions_Regional df$year <- substr(df$Year,7,10) facet_barchart(df,xcol = year,ycol = Net_Additions,groupcol=Region)"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_highlight_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Highlighted faceted graphs in the dluhc style — facet_highlight_timeseries","title":"Highlighted faceted graphs in the dluhc style — facet_highlight_timeseries","text":"Highlighted faceted graphs dluhc style","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_highlight_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Highlighted faceted graphs in the dluhc style — facet_highlight_timeseries","text":"","code":"facet_highlight_timeseries(   .data,   datecol,   ycol,   groupcol,   textsize = 1,   dateformat = \"%Y-%m-%d\" )"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_highlight_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Highlighted faceted graphs in the dluhc style — facet_highlight_timeseries","text":".data dataframe used analysis, ideally 3 column dataframe datecol column name date variables . Date needs one three formats: \"2021-01-23\", \"23/01/2021\" \"21-Jan-2021\" ycol column name numeric values, ensure numeric format groupcol column name split data individual graphs textsize numeric variable text size, isnt actual text size, scale text size facets correctly dateformat format date presented using standard R date format, see detail https://www.statology.org/r-date-format/","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_highlight_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Highlighted faceted graphs in the dluhc style — facet_highlight_timeseries","text":"ggplot object","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/facet_highlight_timeseries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Highlighted faceted graphs in the dluhc style — facet_highlight_timeseries","text":"","code":"df <- dluhctheme::Net_Additions_Regional facet_highlight_timeseries(.data=df,datecol = Year, ycol = Net_Additions, groupcol = Region, dateformat = \"%d/%m/%Y\") #> Error in loadNamespace(x): there is no package called ‘gghighlight’"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/finalise_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Arrange alignment and save DLUHC ggplot chart — finalise_plot","title":"Arrange alignment and save DLUHC ggplot chart — finalise_plot","text":"Running function save plot correct guidelines publication BBC News graphic. left align source, add DLUHC logo bottom right save specified location.","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/finalise_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Arrange alignment and save DLUHC ggplot chart — finalise_plot","text":"","code":"finalise_plot(   plot_name,   source_name,   save_filepath = file.path(Sys.getenv(\"TMPDIR\"), \"tmp-nc.png\"),   width_pixels = 640,   height_pixels = 450,   logo_image_path = file.path(system.file(\"data\", package = \"dluhctheme\"),     \"DLUHC_Logo.png\"),   footerfontsize = 18 )"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/finalise_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Arrange alignment and save DLUHC ggplot chart — finalise_plot","text":"plot_name variable name plot created want format save source_name text want come text 'Source:' bottom left hand side side save_filepath Exact filepath want plot saved width_pixels Width pixels want save chart - defaults 640 height_pixels Height pixels want save chart - defaults 450 logo_image_path File path logo image want use right hand side chart, needs PNG file - defaults DLUHC image sits within data folder package footerfontsize Size font used footer","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/finalise_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Arrange alignment and save DLUHC ggplot chart — finalise_plot","text":"(Invisibly) updated ggplot object.","code":""},{"path":[]},{"path":"https://communitiesuk.github.io/dluhctheme/reference/forecast_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a single line time series graph in a dluhc theme for a line which has a predicted/forecast value — forecast_timeseries","title":"Create a single line time series graph in a dluhc theme for a line which has a predicted/forecast value — forecast_timeseries","text":"Create single line time series graph dluhc theme line predicted/forecast value","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/forecast_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a single line time series graph in a dluhc theme for a line which has a predicted/forecast value — forecast_timeseries","text":"","code":"forecast_timeseries(   .data,   datecol,   ycol,   cutdate,   dateformat = \"%Y-%m-%d\",   dottedline = TRUE,   label_names = c(\"Recorded\", \"Forecast\") )"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/forecast_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a single line time series graph in a dluhc theme for a line which has a predicted/forecast value — forecast_timeseries","text":".data dataframe long format 2 columns necesarry: Date value datecol column name contains date value widely used date format ycol column name contains values cutdate date predicted values begin dateformat format date presented using standard R date format, see detail https://www.statology.org/r-date-format/ dottedline TRUE/FALSE statement decide want vertical dotted line graph split prediction recorded values label_names vector containing 2 words want label lines, default c(\"Recorded\", \"Forecast\")","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/forecast_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a single line time series graph in a dluhc theme for a line which has a predicted/forecast value — forecast_timeseries","text":"ggplot2 object","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/forecast_timeseries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a single line time series graph in a dluhc theme for a line which has a predicted/forecast value — forecast_timeseries","text":"","code":"df <- dluhctheme::GDP_Deflator forecast_timeseries(df,year,ycol=GDP,cutdate = \"01/04/2022\",dateformat = \"%d/%m/%Y\", label_names = c(\"Actual\",\"Predicted\")) #> Error in unit(2, \"cm\"): could not find function \"unit\""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/multi_line_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a time series with more than one line in a DLUHC style — multi_line_timeseries","title":"Create a time series with more than one line in a DLUHC style — multi_line_timeseries","text":"Create time series one line DLUHC style","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/multi_line_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a time series with more than one line in a DLUHC style — multi_line_timeseries","text":"","code":"multi_line_timeseries(   .data,   datecol,   ycol,   groupcol,   dateformat = \"%Y-%m-%d\" )"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/multi_line_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a time series with more than one line in a DLUHC style — multi_line_timeseries","text":".data dataframe data long format one column date one column variable value datecol column name dataframe contains date variable ycol column name dataframe contains value groupcol column name contains grouping variable (country, region type)","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/multi_line_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a time series with more than one line in a DLUHC style — multi_line_timeseries","text":"ggplot2 object","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/multi_line_timeseries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a time series with more than one line in a DLUHC style — multi_line_timeseries","text":"","code":"df <- dluhctheme::Social_Housing_Sales  multi_line_timeseries(.data=df,datecol = year, ycol = count, groupcol = type, dateformat = \"%d/%m/%Y\")"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/one_line_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a single line time series graph in a dluhc theme — one_line_timeseries","title":"Create a single line time series graph in a dluhc theme — one_line_timeseries","text":"Create single line time series graph dluhc theme","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/one_line_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a single line time series graph in a dluhc theme — one_line_timeseries","text":"","code":"one_line_timeseries(.data, datecol, ycol, dateformat = \"%Y-%m-%d\")"},{"path":"https://communitiesuk.github.io/dluhctheme/reference/one_line_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a single line time series graph in a dluhc theme — one_line_timeseries","text":".data dataframe long format 2 columns necessary: Date value datecol column name contains date value widely used date format ycol column name contains values dateformat format date presented using standard R date format, see detail https://www.statology.org/r-date-format/","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/one_line_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a single line time series graph in a dluhc theme — one_line_timeseries","text":"ggplot object","code":""},{"path":"https://communitiesuk.github.io/dluhctheme/reference/one_line_timeseries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a single line time series graph in a dluhc theme — one_line_timeseries","text":"","code":"df <- dluhctheme::Net_Additions #> Error: 'Net_Additions' is not an exported object from 'namespace:dluhctheme'  one_line_timeseries(.data=df,datecol = year, ycol = lifeExp, dateformat = \"%Y\") #> ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ── #> ✔ ggplot2 3.4.0     ✔ purrr   1.0.1 #> ✔ tibble  3.1.8     ✔ dplyr   1.1.0 #> ✔ tidyr   1.3.0     ✔ stringr 1.5.0 #> ✔ readr   2.1.3     ✔ forcats 1.0.0 #> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── #> ✖ dplyr::filter() masks stats::filter() #> ✖ dplyr::lag()    masks stats::lag() #> Error in UseMethod(\"pull\"): no applicable method for 'pull' applied to an object of class \"function\""}]
